import"./modulepreload-polyfill-3cfb730f.js";/* empty css                 */import{p as C,f as a,m as d,g as l,d as m,G as v,l as L,e as y,n as x}from"./main-1d615fee.js";import{e as u,c as f}from"./errors-7c5232a2.js";const g=document.getElementById("usernameContainer"),p=document.getElementById("usernameError"),i=document.getElementById("emailContainer"),c=document.getElementById("emailError"),w=document.getElementById("passwordContainer"),E=document.getElementById("passwordError"),h=document.getElementById("password2Container"),b=document.getElementById("password2Error"),o=document.getElementById("registerForm");o.addEventListener("submit",async t=>{t.preventDefault();const e=o.username.value,r=o.email.value,s=o.password.value,I=o.password2.value;if(e.trim().length<4){g.classList.replace("border-l-accent","border-l-red-500"),p.textContent="At least 4 characters";return}if(g.classList.replace("border-l-red-500","border-l-accent"),p.textContent="",r.trim().length===0){i.classList.replace("border-l-accent","border-l-red-500"),c.textContent="Email required";return}if(i.classList.replace("border-l-red-500","border-l-accent"),c.textContent="",s.trim().length<6){w.classList.replace("border-l-accent","border-l-red-500"),E.textContent="At least 6 characters";return}if(w.classList.replace("border-l-red-500","border-l-accent"),E.textContent="",s.trim()!==I.trim()){h.classList.replace("border-l-accent","border-l-red-500"),b.textContent="Passwords do not match";return}h.classList.replace("border-l-red-500","border-l-accent"),b.textContent="";try{const n=await C(a,r,s),{user:B}=n;await d(l(m,"Users",B.uid),{username:e,email:r,favorites:[],seeLater:[],profilePicture:"https://t4.ftcdn.net/jpg/04/08/24/43/360_F_408244382_Ex6k7k8XYzTbiXLNJgIL8gssebpLLBZQ.jpg"}),sessionStorage.setItem("userId",a.currentUser.uid),window.location.href=`${window.location.origin}/src/pages/main.html`}catch(n){u[n.code].includes("Email")&&(i.classList.replace("border-l-accent","border-l-red-500"),c.textContent=u[n.code])}});const P=document.getElementById("password-toggle");P.addEventListener("click",()=>{f("password")});const U=document.getElementById("password-toggle2");U.addEventListener("click",()=>{f("password2","password-toggle2")});const k=new v,A=document.getElementById("googleBtn");A.addEventListener("click",async()=>{try{const t=await L(a,k),{user:e}=t,r=e.displayName,{email:s}=e;await d(l(m,"Users",e.uid),{username:r,email:s,favorites:[],seeLater:[],profilePicture:e.photoURL}),sessionStorage.setItem("userId",t.user.uid),window.location.href=`${window.location.origin}/src/pages/main.html`}catch{y()}});const N=new x,$=document.getElementById("githubBtn");$.addEventListener("click",async()=>{try{const t=await L(a,N),{user:e}=t,r=e.displayName,{email:s}=e;await d(l(m,"Users",e.uid),{username:r,email:s,favorites:[],seeLater:[],profilePicture:e.photoURL}),sessionStorage.setItem("userId",t.user.uid),window.location.href=`${window.location.origin}/src/pages/main.html`}catch{y()}});
